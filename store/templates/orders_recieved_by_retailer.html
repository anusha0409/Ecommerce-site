{% extends 'base3.html' %}

{% block content %}
<h1>Dashboard</h1>
<div class="container-fluid mt-4">
  <div class="row">
    <!--filter-->

    {% load custom_filter %}
    <div class="container">
       <div class="border rounded p-4 m-4">
            <p class="display-4 pl-4 ml-4">Your Orders</p>
            <hr>
            <table class="table">
                <thead>
                    <tr>
                        <th>Sno.</th>
                        <th>Image</th>
                        <th>Product</th>
                        <th>Date</th>
                        <th>Price</th>
                        <th>Quantity</th>
                        <th>Total</th>
                        <th>Customer name</th>
                        <th>Status</th>
                        <th>View Order Details</th>
                    </tr>
                </thead>
                <tbody>
                    
                    {% for order in orders %}
                    <tr>
                        <td>{{forloop.counter}}</td>
                        <td><img style="height: 80px;" class="rounded-circle" src="{{order.product.image.url}}" alt=""></td>
                        <td>{{order.product.name}}</td>
                        <td>{{order.date}}</td>
                        <td>{{order.price|currency}}</td>
                        <td>{{order.quantity}}</td>
                        <td>{{order.quantity|multiply:order.price|currency}}</td>
                        <td>{{order.customer.first_name}}</td>
                        <td>{{order.order_status}}</td>
                        <td>
                            <form action="/view_order2" method="GET">
                                {% csrf_token %}
                                <input hidden type="text" name="order" value='{{order.id}}'>
                                <input type="submit" class="btn btn-info" value="View">
                              </form>
                              
                        </td>
                    </tr>
    
                    {% endfor %}
                   
                </tbody>
    
            </table>
           
       </div>
    </div>
   
{% endblock %}
